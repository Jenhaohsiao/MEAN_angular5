<form #form="ngForm">
    <ng-container *ngIf="editMode; else viewRug">
      <div class="form-group">
        <h5>Name:</h5>
        <input type="input" class="form-control" name="name" required placeholder="Name" [(ngModel)]="rug.name">
      </div>

      <div class="form-group">
        <h5>Price:</h5>
        <input type="number" class="form-control" name="price" required placeholder="Price" [(ngModel)]="rug.price">
      </div>

      <div class="form-group">
        <h5>Serial Number:</h5>
        <input type="input" class="form-control" name="serialNumber" required placeholder="Serial Number" [(ngModel)]="rug.serialNumber">
      </div>

      <div class="form-group">
        <label for="file">Choose Image</label>
        <input type="file" id="file" (change)="fileChange.emit($event)">
      </div>
    </ng-container>

    <ng-template #viewRug>
      <div *ngIf="rug" class="itemDetail">
        <img [src]="rugService.getSafeResourceUrl(rug)">
        <h5>Name:</h5>
        <p>{{rug.name}}</p>
        <h5>Price:</h5>
        <p>{{rug.price | currency: 'CAD ': 'code'}}</p>
        <h5>Serial Number:</h5>
        <p>{{rug.serialNumber}}</p>
      </div>
    </ng-template>

    <button *ngIf="editMode" type="button" [disabled]="!form.valid" (click)="save.emit(rug)" class="btn btn-primary">Update</button>
    <button *ngIf="!editMode" type="button" (click)="edit.emit()" class="btn btn-primary">Edit</button>
    <button type="button" class="btn btn-danger" (click)="delete.emit(rug)">Delete</button>
  </form>
